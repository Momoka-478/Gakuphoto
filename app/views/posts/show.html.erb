<div class="container mt-4">
  <div class="card shadow-sm">
    <% if @post.get_image.present? %>
      <%= image_tag @post.get_image, class: "card-img-top", alt: @post.title %>
    <% end %>
    <div class="card-body">
      <h3 class="card-title"><%= @post.title %></h3>
      <p class="card-text"><%= simple_format(@post.body) %></p>

      <p class="text-muted">
        投稿者：
        <%= link_to admin_path(@post.admin.id), class: "text-decoration-none" do %>
          <%= @post.admin.name %>
        <% end %>
        ／ 投稿日：<%= @post.created_at.strftime('%Y/%m/%d') %>
      </p>

      <div class="d-flex align-items-center mb-3">
        <div class="me-3">
          <%= render "favorites/btn", post: @post %>
        </div>
        <span class="text-muted">コメント数: <%= @post.post_comments.count %></span>
      </div>

      <% if @post.admin == current_admin %>
        <div class="mt-3">
          <%= link_to "編集", edit_admin_post_path(@post.id), class: "btn btn-outline-primary btn-sm me-2" %>
          <%= link_to "削除", post_path(@post.id), 
                      method: :delete, 
                      data: { confirm: "本当に削除しますか？" }, 
                      class: "btn btn-outline-danger btn-sm" %>
        </div>
      <% end %>
    </div>
  </div>

  <div class="mt-4">
    <%= render "post_comments/index", post: @post %>
  </div>
</div>